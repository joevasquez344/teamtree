(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{59870:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teams/[teamId]/groups/[groupId]/chat",function(){return l(44964)}])},44964:function(e,s,l){"use strict";l.r(s);var r=l(85893),t=l(67294),n=l(80040),a=l(55550),c=l(354),o=l(69818),i=l(11163),d=l(59335),u=l(50549);let m=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 text-green-600",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 012.25-2.25h7.5A2.25 2.25 0 0118 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 004.5 9v.878m13.5-3A2.25 2.25 0 0119.5 9v.878m0 0a2.246 2.246 0 00-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0121 12v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6c0-.98.626-1.813 1.5-2.122"})});s.default=()=>{let e=(0,i.useRouter)(),s=(0,t.useRef)(null),{setAuthLayout:l}=(0,a.aC)(),{getGroup:x,groupMembers:h,groupChat:g,group:p,groupLoading:b,addGroupMessage:v,addGroupReply:f,error:j,setError:y}=(0,c.y2)(),[N,w]=(0,t.useState)(!1),[k,_]=(0,t.useState)(""),[C,T]=(0,t.useState)(null),A=async e=>{e.preventDefault(),0!==k.length&&(await f(C,k),T(null),_(""))};return((0,t.useEffect)(()=>{y(!1),x(),l(!0)},[e.query.groupId]),j)?(0,r.jsx)("div",{className:"w-full h-screen flex justify-center mt-96",children:(0,r.jsx)("div",{className:"text-gray-300 text-3xl",children:j})}):(0,r.jsxs)("div",{className:"bg-gray-700",children:[(0,r.jsx)("div",{className:"h-12 bg-gray-700  shadow-md px-5 flex items-center text-gray-200 text-lg font-semibold",children:b?(0,r.jsx)(u.Z,{className:"h-6",baseColor:"rgb(31 41 55)",count:1,width:"200px",highlightColor:"rgb(55 65 81)",enableAnimation:!0,direction:"rtl",duration:1}):(0,r.jsx)("div",{children:null==p?void 0:p.name})}),(0,r.jsxs)("div",{className:"grid grid-cols-12",children:[(0,r.jsxs)("div",{className:"col-span-10 overflow-y-scroll no-scrollbar h-screen relative",children:[(0,r.jsx)(n.Z,{messages:null==g?void 0:g.messages,reply:e=>{T(e),s.current.focus()}}),(0,r.jsx)("div",{className:"absolute bg-gray-700 bottom-24 w-full ".concat(null===C?"pt-5":"pt-3","  pb-10  px-7 border-t border-t-gray-600 z-30 "),children:(0,r.jsxs)("div",{className:"h-full",children:[null!==C&&(0,r.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,r.jsx)("div",{className:"text-gray-300",children:"Replying to"}),(0,r.jsxs)("div",{className:"text-green-500",children:[" ",C.user.name]})]}),(0,r.jsxs)("form",{onSubmit:null===C?e=>{if(e.preventDefault(),0===k.length)return;let s=N?"task":"message";v(s,k),_("")}:A,className:"".concat(null!==C&&"border border-green-500"," h-full flex items-center bg-gray-600"),children:[null===C&&(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)(d.Tooltip,{placement:"bottom",content:N?"Remove Task Designation":"Assign as Task",animate:{mount:{scale:1,y:0},unmount:{scale:0,y:1}},className:"hidden sm:flex px-3 py-2 rounded-md text-xs text-green-500 font-bold bg-transparent z-50",children:(0,r.jsx)("div",{onClick:()=>{w(!N)},className:"h-7 w-7 rounded-full ".concat(N?"bg-green-300":"border border-gray-500","  flex justify-center items-center cursor-pointer"),children:(0,r.jsx)(m,{})})})}),(0,r.jsx)("input",{ref:s,value:k,onChange:e=>_(e.target.value),className:"w-full py-3 px-5 bg-gray-600  outline-none text-gray-400",type:"text",placeholder:null!==C?"Reply to ".concat(C.user.name):"Type ".concat(N?"Task":"Message")}),N&&(0,r.jsx)("div",{className:"mx-3 text-sm border border-green-500 text-green-500 px-5 rounded-sm",children:"Task"})]}),null!==C&&(0,r.jsx)("div",{onClick:()=>{T(null)},className:"text-green-500 text-xs cursor-pointer mt-3",children:"Cancel"})]})})]}),(0,r.jsx)("div",{className:"border-l border-l-gray-600 h-screen col-span-2",children:(0,r.jsx)(o.Z,{members:h,type:"chat"})})]}),(0,r.jsx)("div",{className:"border-l border-l-gray-500 h-screen col-span-2",children:(0,r.jsx)(o.Z,{members:h,type:"chat"})})]})}}},function(e){e.O(0,[40,774,888,179],function(){return e(e.s=59870)}),_N_E=e.O()}]);